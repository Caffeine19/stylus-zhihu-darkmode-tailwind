/* ==UserStyle==
@name           www.zhihu.com - 2023/2/2 14:51:50
@namespace      github.com/openstyles/stylus
@version        1.0.0
@description    A new userstyle
@author         Me
==/UserStyle== */
@-moz-document domain("www.zhihu.com") {
  $tailwind-gray-900: #111827;
  $tailwind-gray-800: #1e293b;
  $tailwind-gray-700: #334155;
  $tailwind-gray-600: #475569;
  $tailwind-gray-500: #64748b;
  $tailwind-gray-400: #94a3b8;
  $tailwind-gray-300: #cbd5e1;
  $tailwind-gray-200: #e2e8f0;
  $tailwind-gray-100: #f1f5f9;
  $tailwind-gray-50: #f8fafc;

  $tailwind-blue-500: #3b82f6;
  $tailwind-blue-400: #60a5fa;
  $tailwind-blue-300: #93c5fd;

  $highlight: $tailwind-blue-400;
  $highlight-0-2: rgba($tailwind-blue-400, 0.2);
  $highlight-0-1: rgba($tailwind-blue-400, 0.1);
  $highlight-0-8: rgba($tailwind-blue-400, 0.8);

  :root {
    // --tailwind-gray-800: 31, 41, 55;
    // --tailwind-gray-700: 55, 65, 81;
    // --tailwind-gray-600: 75, 85, 99;
    // --tailwind-gray-400: 156, 163, 175;
    // --tailwind-gray-300: 209, 213, 219;
    // --tailwind-gray-200: 229, 231, 235;
    // --tailwind-gray-100: 243, 244, 246;
    // --tailwind-gray-50: 249, 250, 251;

    // --tailwind-blue-500: 59, 130, 246;
    // --tailwind-blue-400: 147, 197, 253;
    // --tailwind-blue-300: 191, 219, 254;
  }

  /*容器背景*/
  #root {
    height: 100vh;
    background-color: $tailwind-gray-900;
  }

  .App-main {
    background: $tailwind-gray-900;
  }

  .css-pgtd2j {
    color: $tailwind-blue-400;
  }

  /*顶部的Header*/
  .AppHeader {
    background-color: $tailwind-gray-800;
    border-bottom: 1px solid;
    border-color: $tailwind-gray-700;
    box-shadow: 0 100px 80px #00000012, 0 41.7776px 33.4221px #0000000d,
      0 22.3363px 17.869px #0000000b, 0 12.5216px 10.0172px #00000009,
      0 6.6501px 5.32008px #00000007, 0 2.76726px 2.21381px #00000005;
  }

  /*顶部Header知乎图标*/
  .AppHeader-inner a svg {
    fill: $tailwind-blue-400;
  }

  /*header内部的文字链接*/
  .AppHeader-TabsLink {
    color: $tailwind-gray-400;
  }

  /*header内部的文字链接高亮*/
  .css-l2ygoj .AppHeader-TabsLink {
    &.is-active,
    &:hover {
      color: $tailwind-gray-50;
    }

    &.is-active::after {
      background-color: $tailwind-blue-400 !important;
    }
  }

  /*顶部搜索框*/
  .Input-wrapper.Input-wrapper--grey {
    background: $tailwind-gray-900;
    border-color: $tailwind-gray-900;

    input.Input {
      color: $tailwind-gray-50;
    }
  }

  /*搜索框按钮和提问按钮*/
  .css-10fy1q8 {
    .SearchBar-searchButton {
      background-color: $highlight-0-8;

      &:hover {
        background-color: $highlight;
      }

      &.hasValue {
        color: $tailwind-gray-50;
      }

      & svg {
        fill: $tailwind-gray-50;
      }
    }

    .SearchBar-askButton {
      background-color: $highlight-0-8;
      color: $tailwind-gray-50;

      &:hover {
        background-color: $highlight;
      }
    }
  }

  .AppHeader-userInfo {
    svg {
      fill: $tailwind-gray-200;
    }

    a svg {
      fill: $tailwind-gray-200;
    }
  }

  /*次级Header*/
  .SearchTabs.SearchTab-bottomShadow {
    background-color: $tailwind-gray-800;
    border-bottom: 1px solid;
    border-color: $tailwind-gray-700;
    box-shadow: 0 100px 80px #00000012, 0 41.7776px 33.4221px #0000000d,
      0 22.3363px 17.869px #0000000b, 0 12.5216px 10.0172px #00000009,
      0 6.6501px 5.32008px #00000007, 0 2.76726px 2.21381px #00000005;
  }

  /*次级Header内部的链接颜色*/
  .SearchTabs-actions ul li a {
    color: $tailwind-gray-100;

    &.is-active:after {
      background-color: $tailwind-blue-400;
    }
  }

  /*三级搜索Header*/
  .SearchTabs {
    background: $tailwind-gray-800;
  }

  /*三级搜索Header内部文字链接*/
  .List-item {
    background: $tailwind-gray-800;
  }

  /*三级Header搜索框*/
  .SimpleSearchBar-input {
    background: $tailwind-gray-900;
    border-color: $tailwind-gray-900;

    &.is-focus {
      background-color: $tailwind-gray-800;
      border-color: $tailwind-gray-800;
    }

    input {
      color: $tailwind-gray-50;
    }
  }

  .css-1mdzk7e .SimpleSearchBar-solidSearchButton {
    background-color: $tailwind-blue-400;
  }

  /*搜索回答卡片*/
  .Card.SearchResult-Card {
    background: $tailwind-gray-800;
  }

  .Search-container .ContentItem-actions {
    background: $tailwind-gray-800;
  }

  .Search-container .ContentItem-title {
    color: $tailwind-gray-50;
  }

  .Search-container .RichText b {
    color: $tailwind-gray-50;
  }

  .Search-container .RichContent.is-collapsed .RichContent-inner {
    color: $tailwind-gray-100;
  }

  .ContentItem-more {
    color: $highlight;

    &:hover {
      color: $highlight;
    }
  }

  /*搜索回答作者名称*/
  .AuthorInfo-name {
    color: $tailwind-gray-200;
  }

  /*搜索回答作者简介*/
  .AuthorInfo-badgeText {
    color: $tailwind-gray-400;
  }

  .Search-container .RichContent .RichContent-inner {
    color: $tailwind-gray-200;
  }

  /*搜索回答内图片*/
  .css-1g0fqss .lazy[data-lazy-status="ok"] {
    border-radius: 8px;
  }

  .css-1g0fqss .content_image.zh-lightbox-thumb,
  .css-1g0fqss .origin_image.zh-lightbox-thumb {
    border-radius: 8px;
  }

  /*搜索回答内代码块*/
  .css-1g0fqss pre {
    background-color: $tailwind-gray-900;
  }

  /*搜索回答内小代码*/
  .css-1g0fqss code {
    background-color: $tailwind-gray-900;
    color: #e0e7ff;
  }

  .css-1g0fqss a.ztext-link:hover,
  .css-1g0fqss a.internal:hover,
  .css-1g0fqss a.external:hover {
    color: $tailwind-blue-400;
    border-color: $tailwind-blue-400;
  }

  .LikeButton,
  .VoteButton {
    background-color: $highlight-0-1;
    color: $highlight;
    border-color: transparent;
    &:not(:disabled):hover {
      background-color: $highlight-0-2;
    }

    &.is-active {
      background-color: $highlight;
      color: $tailwind-gray-50;

      &:hover {
        background-color: $highlight;
      }
    }
  }

  /*回答卡片底部信息*/
  .ContentItem-action:not(:first-child) {
    color: $tailwind-gray-400;
  }

  /*回答内其他回答链接*/
  .css-1g0fqss .LinkCard.new {
    background-color: $tailwind-gray-900;

    .LinkCard-title {
      color: $tailwind-gray-50;
    }
  }

  /*搜索信息标题*/
  .Highlight em {
    color: #f43f5e;
  }

  /*搜索信息标题*/
  .ContentItem-title a:hover {
    color: $tailwind-blue-400;
  }

  /*搜索页侧边乱七八糟信息*/
  .css-knqde {
    display: none;
  }

  /*相关搜索*/
  .RelevantQuery h2 {
    color: $tailwind-gray-50;
  }

  .RelevantQuery li {
    color: $tailwind-blue-400;
  }

  /*搜索回答内引用*/
  .css-1g0fqss blockquote {
    color: $tailwind-gray-300;
  }

  .SearchTopicHeader-Introduction,
  .SearchTopicHeader-Introduction p {
    color: $tailwind-gray-50;
  }

  /*搜索页话题链接*/
  .SearchTopicHeaderLink {
    color: $tailwind-blue-400;
  }

  /*搜索页话题信息更多按钮*/
  .SearchTopicHeader-IntroTail {
    background: none;
    color: $highlight;
  }

  .SearchTopicHeader-IntroTail:before {
    display: none;
  }

  /*搜索结果页*/
  .SearchResult-Card .SearchItem-type {
    background: $tailwind-gray-600;
    color: $tailwind-gray-300;
  }

  /*搜索相关电子书*/
  .KfeCollection-PcCollegeCard-wrapper {
    background-color: $tailwind-gray-800;

    .KfeCollection-PcCollegeCard-root {
      background-color: $tailwind-gray-800;

      .KfeCollection-PcCollegeCard em {
        color: #f43f5e;
      }

      span.KfeCollection-PcCollegeCard-type {
        background-color: $tailwind-gray-700;
        color: $tailwind-gray-300;
      }

      .KfeCollection-PcCollegeCard-meta {
        .KfeCollection-PcCollegeCard-description,
        .KfeCollection-PcCollegeCard-moreDescription {
          color: $tailwind-gray-100;
        }
      }

      .KfeCollection-PcCollegeCard-searchMore {
        color: $highlight;
      }
    }
  }

  /*首页细分导航栏*/
  .Topstory-tabs {
    background-color: $tailwind-gray-800;
    color: $tailwind-gray-50;
    border-color: $tailwind-gray-900;
  }

  .TopstoryTabs-link {
    color: $tailwind-gray-50;

    &:hover {
      color: $highlight;
    }

    &.is-active {
      color: $highlight;
    }
  }

  /*首页向下滚动出现的header*/
  .TopstoryPageHeader {
    .TopstoryPageHeader-main {
      /*知乎图标*/
      .css-nxq4uo {
        a svg {
          fill: $tailwind-blue-400;
        }
      }
    }

    .TopstoryPageHeader-aside {
      & > .Button {
        background-color: $tailwind-blue-400;
        color: $tailwind-gray-50;
      }

      .QZcfWkCJoarhIYxlM_sG.is-focus {
        background: $tailwind-gray-600;
        border-color: $tailwind-gray-600;
      }

      input {
        color: $tailwind-gray-50;
      }
    }
  }

  /*关注页卡片*/
  .Topstory-mainColumnCard .Card:not(.Topstory-tabCard) {
    background-color: $tailwind-gray-800;
    border-color: $tailwind-gray-900;
    border-width: 2px;
  }

  /*关注页卡片底部菜单栏*/
  .ContentItem-actions {
    background-color: $tailwind-gray-800;
  }

  /*关注页卡片标题*/
  .ContentItem-title {
    color: $tailwind-gray-50;
  }

  /*关注页卡片内容*/
  .RichContent.is-collapsed .RichContent-inner {
    color: $tailwind-gray-100;
  }

  /* .RichContent.is-collapsed .RichContent-inner :hover {
        color: rgba(var(--tailwind-gray-100), 0.8)
    } */
  /*关注页图片*/
  img.css-1phd9a0 {
    border-radius: 8px;
  }

  /*回答卡片内@他人连接*/
  .css-1g0fqss a.UserLink-link {
    color: $tailwind-gray-400;
  }

  /*他人关注问题卡片内关注问题按钮*/
  .TopstoryItem
    .ContentItem-actions
    .Button:not(.Button--plain):not(.Button--link) {
    color: $tailwind-blue-400;
    border-color: $tailwind-blue-400;
    /*回答点赞按钮*/
    &.LikeButton,
    &.VoteButton {
      background-color: $highlight-0-1;
      color: $highlight;
      border-color: transparent;
      &:not(:disabled):hover {
        background-color: $highlight-0-2;
      }

      &.is-active {
        background-color: $highlight;
        color: $tailwind-gray-50;

        &:hover {
          background-color: $highlight;
        }
      }
    }
  }

  .RichContent-inner {
    color: $tailwind-gray-100;
  }

  @media (min-width: 690px) {
    .RichContent.is-collapsed .RichContent-inner:hover {
      color: rgba($tailwind-gray-100, 0.6);
    }
  }

  .css-1oy4rvw .Card {
    background-color: $tailwind-gray-800;
  }

  .CreatorEntrance-Link--smallIcon .CreatorEntrancePage-hint--smallIcon {
    svg.CreatorEntrance-creatorIcon {
      fill: $tailwind-gray-200;
      color: $tailwind-gray-200;
    }

    .CreatorEntrance-text {
      .css-zkfaav {
        color: $tailwind-gray-200;
      }
    }
  }

  .Footer {
    display: none;
  }

  /*回到顶部按钮*/
  .css-gdd4kf {
    background: $tailwind-gray-800;

    &:hover {
      background: $tailwind-gray-700;
    }

    & svg {
      fill: $tailwind-gray-400;
    }

    &:hover svg {
      fill: $tailwind-gray-50;
    }
  }

  /*用户评论区*/
  .Comments-container {
    &.css-plbgu {
      .css-x0pxoz {
        border-color: $tailwind-gray-600;

        .css-ip4bff .Dropzone {
          color: $tailwind-gray-50;
        }

        .css-ip4bff .public-DraftEditorPlaceholder-root {
          color: $tailwind-gray-300;
        }
      }

      .css-z07uxh {
        border-color: $tailwind-gray-600;

        .css-vpssrj {
          color: $tailwind-gray-100;
        }

        /*评论排序 默认与最新按钮*/
        .css-1hnxfhy {
          background-color: $tailwind-gray-900;
          border-color: $tailwind-gray-900;
          color: $tailwind-gray-50;

          .css-gjiv4z {
            background-color: $tailwind-gray-800;
            border-color: $tailwind-gray-900;
            color: $tailwind-gray-50;
          }

          .css-1v9si9f {
            color: $tailwind-gray-200;
          }
        }
      }
    }

    .css-1ygdre8 {
      color: $tailwind-gray-50;
    }

    .css-1rd0h6f {
      color: $tailwind-gray-300;
    }

    .css-we6n55::before {
      border-color: $tailwind-gray-600;
    }
    /*底部添加用户评论块*/
    .css-805ti0 {
      background: $tailwind-gray-800;
      box-shadow: rgba($tailwind-gray-900, 0.6) 0px -2px 6px !important;
    }

    .css-1yeqy9h::before {
      border-color: $tailwind-gray-600;
    }

    button.css-1evwjhc {
      background: $tailwind-gray-900;
      color: $tailwind-gray-400;
    }
  }

  /*单个具体的回答页面*/
  /*头部的回答信息*/
  .QuestionHeader {
    background: $tailwind-gray-800;

    .QuestionHeader-title {
      color: $tailwind-gray-50;
    }

    .QuestionHeader-topics {
      .QuestionTopic {
        /*问题相关标签*/
        &.css-1s3a4zw {
          background: $highlight-0-2;
          color: $tailwind-blue-400;
        }
      }
    }

    /*问题的详细描述*/
    .RichText.css-1g0fqss {
      color: $tailwind-gray-200;
    }
    /*问题折叠时的详细描述*/
    .QuestionRichText--expandable.QuestionRichText--collapsed {
      color: $tailwind-gray-200;
      &:hover {
        color: $tailwind-gray-400;
      }
    }
    /*右侧问题统计信息*/
    .QuestionFollowStatus-counts {
      .NumberBoard-item {
        .NumberBoard-itemName {
          color: $tailwind-gray-400;
        }

        .NumberBoard-itemValue {
          color: $tailwind-gray-100;
        }

        &:hover {
          .NumberBoard-itemName {
            color: $tailwind-blue-400;
          }

          .NumberBoard-itemValue {
            color: $tailwind-blue-400;
          }
        }
      }
    }

    .NumberBoard--divider
      .NumberBoard-item
      + .NumberBoard-item
      .NumberBoard-itemInner {
      border-color: $tailwind-gray-600;
    }

    span.QuestionFollowStatus-people-tip {
      color: $tailwind-gray-300;
    }

    .QuestionHeader-footer {
      background-color: $tailwind-gray-800;

      .QuestionButtonGroup {
        .Button {
          background-color: $highlight;
          color: $tailwind-gray-900;
          border-color: $tailwind-blue-400;
        }

        a .Button {
          background: none;
          border-color: $tailwind-blue-400;
          color: $tailwind-blue-400;

          &:hover {
            background-color: $highlight-0-2;
          }
        }
      }

      .QuestionHeaderActions {
        .GoodQuestionAction,
        .QuestionHeader-Comment,
        .ShareMenu-toggler {
          .Button {
            color: $tailwind-gray-400;

            &:hover {
              color: $tailwind-gray-400;
            }
          }
        }
      }
    }
  }
  /*单个回答页向下滚动时出现的header*/
  .PageHeader {
    .QuestionHeader-title {
      color: $tailwind-gray-50;
    }
    /*关注问题按钮*/
    .epMJl0lFQuYbC7jrwr_o.JmYzaky7MEPMFcJDLNMG {
      background-color: $tailwind-blue-400;
      color: $tailwind-gray-50;
      &:hover {
        border: $tailwind-blue-300;
      }
    }
    /*写回答按钮*/
    .JmYzaky7MEPMFcJDLNMG {
      border-color: $tailwind-blue-400;
      color: $tailwind-blue-400;
    }
  }

  /*回答于回答之间的分割线*/
  .List-item + .List-item:after {
    border-color: $tailwind-gray-600;
  }

  /*未展开全部回答时的第一个回答卡片*/
  .QuestionAnswer-content {
    background-color: $tailwind-gray-800;
  }

  /*查看全部回答按钮*/
  .Card {
    background-color: $tailwind-gray-800;

    a.QuestionMainAction {
      color: $tailwind-gray-300;
    }
  }
  /*展开阅读全文按钮*/
  .RichContent--unescapable.is-collapsed .ContentItem-rightButton {
    color: $tailwind-blue-300;
  }
  /*回答部分页更多回答*/
  .MoreAnswers .List-header {
    &::after {
      border-color: $tailwind-gray-600;
    }
    .List-headerText {
      background-color: $tailwind-gray-800;
      color: $tailwind-gray-600;
    }
  }
  /*回答列表底部写回答按钮*/
  .QuestionAnswers-answerButton {
    color: $tailwind-blue-400;
  }
  /*回答卡片内关注按钮*/
  .E211w_M7Hzs0GMB7BEyA.JmYzaky7MEPMFcJDLNMG {
    background-color: $highlight-0-1;
    color: $tailwind-blue-400;
    &:hover {
      background-color: $highlight-0-2;
    }
  }
  /*展开全部回答页header*/
  .List-header {
    border-color: $tailwind-gray-600;
    .List-headerText {
      color: $tailwind-gray-200;
    }
    .List-headerOptions {
      /*排序按钮*/
      .h39gnJsHf0NWeCTuygxV {
        background-color: $tailwind-gray-600;
        color: $tailwind-gray-200;
        padding: 4px;
        &:hover {
          background-color: rgba($tailwind-gray-600, 0.6);
        }
      }
    }
  }
  /*被折叠回答统计*/
  .CollapsedAnswers-bar {
    border-color: $tailwind-gray-700;
    color: $tailwind-gray-300;
  }
}
